<!doctype html><html lang=en-us class="m-auto ocean"><head><title>Riccardo Belli</title><meta name=theme-color content><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><meta name=description content="Riccardo Belli's personal page and portfolio."><meta name=author content="Riccardo Belli"><meta name=generator content="aafu theme by Darshan in Hugo 0.109.0"><meta name=keywords content="Riccardo Belli"><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.15.2/css/all.css integrity=sha384-vSIIfh2YWi9wW0r9iZe7RJPrKwp6bG+s9QZMoITbCckVJqGCCRhc+ccxNcdpHuYu crossorigin=anonymous><link rel=stylesheet href=https://cdn.rawgit.com/jpswalsh/academicons/master/css/academicons.min.css><link rel=stylesheet href="//fonts.googleapis.com/css?family=Didact+Gothic%7CRoboto:400%7CRoboto+Mono"><link rel=stylesheet href=/css/aafu.css><link rel=stylesheet href=/css/aafu_compiled.css><script>let html=document.querySelector("html"),theme=window.localStorage.getItem("theme");theme?theme==="dark"?html.classList.add("dark"):html.classList.remove("dark"):html.classList.contains("dark")?window.localStorage.setItem("theme","dark"):(html.classList.remove("dark"),window.localStorage.setItem("theme","light")),window.onload=()=>{let e=document.querySelector(".theme-toggle");window.localStorage.getItem("theme")==="dark"?(e.classList.remove("bi-moon-fill"),e.classList.add("bi-brightness-high")):(e.classList.add("bi-moon-fill"),e.classList.remove("bi-brightness-high"));let t=document.querySelector(".accordion.active");t&&(t.nextElementSibling.style.maxHeight=t.nextElementSibling.scrollHeight+"px")},window.onresize=()=>{let e=document.querySelector(".accordion.active");e&&(e.nextElementSibling.style.maxHeight=e.nextElementSibling.scrollHeight+"px")}</script></head><body class="h-screen px-2 pb-2 pt-0 m-auto max-w-4xl flex flex-col"><header class="nav flex flex-row row p-2 mb-6 w-full border-b border-gray-300 dark:border-gray-700 justify-between"><div><a class="mx-0 no-underline p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-800" href=https://www.riccardobelli.it/>Home</a>
<a class="mx-0 no-underline p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-800" href=/blog>Blog</a>
<a class="mx-0 no-underline p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-800" href=/projects>Projects</a>
<a class="mx-0 no-underline p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-800" href=/files/Riccardo_Belli_CV.pdf>My CV</a></div><i class="fas fa-sun theme-toggle text-blue-500 hover:text-blue-700 dark:text-yellow-300 dark:hover:text-yellow-500 cursor-pointer text-lg px-2 mr-0 sm:mr-0" onclick=lightDark(this)></i></header><script>const lightDark=e=>{let t=document.querySelector("html");t.classList.contains("dark")?(t.classList.remove("dark"),e.classList.add("fa-moon"),e.classList.remove("fa-sun"),window.localStorage.setItem("theme","light")):(t.classList.add("dark"),e.classList.add("fa-sun"),e.classList.remove("fa-moon"),window.localStorage.setItem("theme","dark"))}</script><main class=grow><div class="prose prose-stone dark:prose-invert max-w-none"><div class=mb-3><h1 class=top-h1 style=font-size:2.75em>python-can-cando</h1><p class=mb-1>November 5, 2024</p><p>&mdash;</p></div><div class=content><script src=https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js></script>
<script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><p>This package is available on <a href=https://pypi.org/project/python-can-cando/>PyPi</a> and its source code on my <a href=https://github.com/belliriccardo/python-can-cando>GitHub</a>.</p><h2 id=description>Description</h2><p>This module is a plugin that lets you use <a href=http://www.netronics.ltd.uk/>netronics</a>&rsquo; can adapters (namely the <a href=https://www.cananalyser.co.uk/cando.html>CANdo</a> and <a href=https://www.cananalyser.co.uk/candoiso.html>CANdoISO</a> devices) in <a href=https://python-can.readthedocs.io/en/stable/>python-can</a>&rsquo;s <a href=https://python-can.readthedocs.io/en/stable/plugin-interface.html>plugin interface</a>.</p><h2 id=installation>Installation</h2><p>You should have installed the <a href=https://www.cananalyser.co.uk/download.html>netronics&rsquo; CANdo drivers</a> before using this library; otherwise you will get a DLL error (or, under linux, a shared library error).</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>pip install python-can-cando
</span></span></code></pre></div><h2 id=usage>Usage</h2><p>Just like any other <code>python-can</code> plugin, you can access the class like so:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> can
</span></span><span style=display:flex><span>bus <span style=color:#f92672>=</span> can<span style=color:#f92672>.</span>Bus(interface<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;cando&#34;</span>, channel<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span><span style=color:#75715e># All of your other python-can code...</span>
</span></span></code></pre></div><p>Or you could just instantiate it directly:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> can_cando <span style=color:#f92672>import</span> CANdoBus
</span></span><span style=display:flex><span>bus <span style=color:#f92672>=</span> CANdoBus(channel<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span><span style=color:#75715e># All of your other python-can code...</span>
</span></span></code></pre></div><h2 id=extra-information>Extra information</h2><p>There are some inherent limitations to this device; you should really check the programmer&rsquo;s guide and the actual implementation of some methods, such as the <code>cando_transmit</code>&rsquo;s documentation on how to use the device&rsquo;s internal repeat buffers; the number of such available buffers and message timing periodicity is fixed and limited. The implementation of <code>BusABC.send_periodic</code> is intentionally dummy-overridden for this reason.</p><p>Anyways, the programmer&rsquo;s guide and all the relative datasheets for the devices can be downloaded from <a href=https://www.cananalyser.co.uk/download.html>netronics&rsquo; download page</a>.</p><h5 id=a-note-on-bus-load><strong>A note on bus load</strong></h5><p>I found that the device tends to get the <code>CANDO_CAN_RX_OVERRUN</code> status if there is either too much bus load or sudden spikes of bus load (and therefore it loses some can messages); if you have other nodes in the network that send a lot of periodic messages with a short period, you might consider using the appropriate filters, rather that just reading all the messages and filtering them in software.</p><h2 id=compatibility>Compatibility</h2><p>I developed this library with a CANdoISO device; I don&rsquo;t have a CANdo device to test it, but it should work just as well.
There are some minor differences between the two (for example a different clock frequency), but from a software point of view the interfaces are very similar.</p><p>This library was developed and tested on Windows 10 and python 3.12, but it should be good to go with python up till 3.6 (checked with <a href=https://github.com/netromdk/vermin>vermin</a>) and non-Windows OSs.</p><p>Anyways, any feedback is appreciated and welcome; just open an issue or a pull request and I&rsquo;ll gladly take a look at it.</p><h2 id=license>License</h2><p><code>python-can-cando</code> is distributed under the terms of the <a href=https://spdx.org/licenses/LGPL-3.0-or-later.html>LGPL-3.0-or-later</a> license.</p></div></div><div class="flex flex-row justify-around my-2"><h3 class="mb-1 mt-1 text-left mr-4"><a href=/projects/cnn-cifar10-compl/ title="Convolutional networks, CIFAR-10 and complexity"><i class="nav-menu fas fa-chevron-circle-left"></i></a></h3><h3 class="mb-1 mt-1 text-left ml-4"><i class="text-gray-300 dark:text-gray-600 fas fa-chevron-circle-right"></i></h3></div></main><footer class="text-sm text-center border-t border-gray-300 dark:border-gray-700 py-6"><p class=markdownify>Made with ❤️ and <a href=https://gohugo.io/>Hugo</a></p></footer></body></html>